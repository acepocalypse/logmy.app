/* style.css */

:root {
  --page-bg: #F8FCFB;
  --content-bg: #FFFFFF;
  --text-primary: #333333;
  --text-secondary: #777777;
  --accent-primary: #6892D5;
  --accent-primary-hover: #577ABF;
  --accent-secondary: #79D1C3;
  --accent-secondary-hover: #63B9A9;
  --success-bg: #C9FDD7;
  --success-text: #2A7556;
  --error-color: #D32F2F;
  --error-bg: #FEECEB;
  --border-color: #DCE0E6;
  --input-bg: #FFFFFF;
  --input-focus-border: var(--accent-primary); /* For consistent focus on inputs */
  --input-focus-shadow: color-mix(in srgb, var(--accent-primary) 20%, transparent); /* For consistent focus shadow */
  --font-family-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  --border-radius: 6px;
  --grid-cell-line-height: 1.4; /* Define line height for grid cells for consistency */
  --grid-cell-max-lines: 2;    /* Define max lines for grid cells */
  --grid-header-bg: color-mix(in srgb, var(--page-bg) 70%, var(--content-bg)); /* Slightly different bg for header/filters */
  --grid-filter-height: 38px; /* Define a consistent height for filter inputs */
  --input-button-group-max-width: 500px; /* Max width for the URL input group */
}

body {
  font-family: var(--font-family-sans);
  background-color: var(--page-bg);
  color: var(--text-primary);
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem 2rem 1rem;
  line-height: 1.6;
}

#app-header {
  background-color: var(--content-bg);
  padding: 0.75rem 1.5rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 8px rgba(0,0,0,0.07);
  border-bottom: 1px solid var(--border-color);
  position: sticky;
  top: 0;
  z-index: 1000;
  width: 100%;
  box-sizing: border-box;
  left: 0;
  right: 0;
  max-width: 1200px; /* Ensure header also respects max-width */
  margin: 0 auto; /* Center header */
}

.logo-container {
  display: flex;
  align-items: center;
}

#header-logo {
  height: 32px;
  width: 32px;
  margin-right: 0.75rem;
}

.app-name-header {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--accent-primary);
}

#app-header nav a {
  margin-left: 1.5rem;
  text-decoration: none;
  color: var(--text-secondary);
  font-weight: 500;
  padding-bottom: 0.25rem;
  border-bottom: 2px solid transparent;
  transition: color 0.2s ease-in-out, border-bottom-color 0.2s ease-in-out;
}

#app-header nav a:hover {
  color: var(--accent-primary);
}

#app-header nav a.active {
  color: var(--accent-primary);
  border-bottom-color: var(--accent-primary);
  font-weight: 600;
}

main {
  padding-top: 1rem;
}

#main-title.hidden {
  display: none;
}

h1 {
  text-align: center;
  margin-bottom: 2.5rem;
  font-size: 2.5rem;
  font-weight: 600;
  color: var(--accent-primary);
  margin-top: 0;
}

h2 {
  font-size: 1.75rem;
  font-weight: 500;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 0.5rem;
  margin-top: 1rem;
  margin-bottom: 1.5rem;
  color: var(--text-primary);
}

section {
  background-color: var(--content-bg);
  padding: 1.5rem 2rem;
  border-radius: var(--border-radius);
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  margin-bottom: 2rem;
}

/* Auth section specific styling */
#auth-container { /* Wrapper for login/signup */
    max-width: 400px;
    margin: 2rem auto; /* Center it */
}
#auth-section { /* Keep existing auth section styles if any specific ones were there */
    /* padding: 1.5rem 2rem; already on general section */
}
#auth-section h2 { /* Auth title (Sign In / Sign Up) */
  text-align: center;
  border-bottom: none;
  margin-bottom: 1.5rem;
}
.auth-toggle-text {
    text-align: center;
    margin-top: 1.5rem;
    font-size: 0.9rem;
    color: var(--text-secondary);
}
.auth-toggle-text a {
    color: var(--accent-primary);
    text-decoration: underline;
    font-weight: 500;
}
.auth-toggle-text a:hover {
    color: var(--accent-primary-hover);
}


input[type="email"],
input[type="password"],
input[type="text"],
input[type="date"],
textarea,
select {
  width: 100%;
  padding: 0.75rem;
  margin-bottom: 1rem;
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius);
  box-sizing: border-box;
  font-size: 1rem;
  background-color: var(--input-bg);
  color: var(--text-primary);
  transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  min-height: var(--grid-filter-height);
}

textarea {
  line-height: 1.4;
  min-height: 80px;
}

label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 500;
  color: var(--text-secondary);
}

button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.75rem 1.5rem;
  background-color: var(--accent-primary);
  color: white;
  border: none;
  border-radius: var(--border-radius);
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  text-align: center;
  transition: background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out, transform 0.1s ease-in-out;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  min-height: var(--grid-filter-height);
  box-sizing: border-box;
}

button.secondary {
  background-color: var(--accent-secondary);
}

#auth-section form button, /* Targets login and signup buttons */
#confirm-form button[type="submit"] {
  width: 100%;
}


/* Styles for the URL input and Fetch button group */
#input-section h2 {
    text-align: center;
    border-bottom: none;
    margin-bottom: 1.5rem;
}
.input-button-group {
  max-width: var(--input-button-group-max-width);
  margin: 0 auto 1rem auto;
}
.input-button-group #job-url,
.input-button-group #link-parse-btn {
  width: 100%;
  box-sizing: border-box;
}
.input-button-group #job-url {
  margin-bottom: 0.75rem;
}
.input-button-group #link-parse-btn {
  margin-top: 0;
  margin-bottom: 0;
}


#sheet-section h2 {
  margin-bottom: 1rem;
}
.sheet-actions {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  align-items: center;
}
.sheet-actions button {
  width: auto;
}

#account-section {
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
}
#account-section h2 {
  text-align: center;
  border-bottom: none;
  margin-bottom: 1.5rem;
}
.account-details p {
  font-size: 1.1rem;
  margin-bottom: 1rem;
  padding: 0.75rem;
  background-color: var(--page-bg);
  border-radius: var(--border-radius);
  border: 1px solid var(--border-color);
}
.account-details p strong {
  color: var(--text-primary);
}
#logout-btn {
  background-color: var(--error-color);
  width: auto;
  margin-left: auto;
  margin-right: auto;
  padding: 0.75rem 2rem;
  margin-top: 1.5rem;
}

.message {
  margin-top: 1rem;
  padding: 0.75rem 1rem;
  border-radius: var(--border-radius);
  text-align: center;
  min-height: calc(var(--grid-filter-height) + 4px);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 500;
  border: 1px solid transparent;
  box-sizing: border-box;
  transition: opacity 0.3s ease-in-out, background-color 0.3s ease-in-out;
}
.message.hidden { /* More explicit way to hide messages */
    display: none !important;
}
.message:not(.hidden):empty { /* Style for empty but not explicitly hidden messages */
   padding: 0;
   border: none;
   background-color: transparent;
   min-height: calc(var(--grid-filter-height) + 4px); /* Keep space */
}
.message.success {
  background-color: var(--success-bg);
  color: var(--success-text);
  border-color: color-mix(in srgb, var(--success-text) 30%, transparent);
}
.message.error {
  background-color: var(--error-bg);
  color: var(--error-color);
  border-color: color-mix(in srgb, var(--error-color) 30%, transparent);
}
.message.neutral {
  background-color: color-mix(in srgb, var(--accent-secondary) 20%, var(--content-bg));
  color: var(--text-primary);
  border-color: var(--accent-secondary);
}

.hidden {
  display: none !important;
}

/* --- AG Grid Specific Styles --- */
.ag-theme-quartz .ag-cell { display: flex; align-items: center; padding-left: 8px; padding-right: 8px; box-sizing: border-box; }
.ag-theme-quartz .ag-cell[col-id="id"] { justify-content: center; padding-left: 4px; padding-right: 4px; }
.ag-theme-quartz .ag-cell-value { white-space: normal; line-height: var(--grid-cell-line-height); max-height: calc(var(--grid-cell-line-height) * var(--grid-cell-max-lines) * 1em); overflow-y: hidden; overflow-x: auto; box-sizing: border-box; width: 100%; }
.ag-theme-quartz .ag-header-cell-label { white-space: normal !important; text-overflow: ellipsis; overflow: hidden; line-height: var(--grid-cell-line-height); padding: 8px 6px; font-weight: 500; box-sizing: border-box; display: flex; align-items: center; height: 100%; }
.ag-theme-quartz .ag-header-row { background-color: var(--grid-header-bg); border-bottom: 1px solid var(--border-color); }
.ag-theme-quartz .ag-header-cell { border-right: 1px solid color-mix(in srgb, var(--border-color) 60%, transparent); padding: 0; }
.ag-theme-quartz .ag-header-cell:last-child { border-right: none; }
.ag-theme-quartz .ag-floating-filter-input input, .ag-theme-quartz .ag-floating-filter-input select, .ag-theme-quartz .ag-custom-filter input[type="text"], .ag-theme-quartz .ag-floating-filter-button { font-family: var(--font-family-sans); font-size: 0.9rem; padding: 0 0.8rem; border: 1px solid var(--border-color); border-radius: var(--border-radius); background-color: var(--input-bg); color: var(--text-primary); width: 100%; box-sizing: border-box; transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out; height: var(--grid-filter-height); min-height: var(--grid-filter-height); display: block; line-height: var(--grid-filter-height); }
.ag-theme-quartz .ag-filter-filter.ag-date-filter input[type="text"] { height: var(--grid-filter-height); min-height: var(--grid-filter-height); padding: 0 0.8rem; font-size: 0.9rem; line-height: var(--grid-filter-height); }
.ag-theme-quartz .ag-floating-filter-input input:focus, .ag-theme-quartz .ag-floating-filter-input select:focus, .ag-theme-quartz .ag-custom-filter input[type="text"]:focus { border-color: var(--input-focus-border) !important; box-shadow: 0 0 0 3px var(--input-focus-shadow) !important; outline: none !important; }
.ag-theme-quartz .ag-floating-filter-button { background-color: transparent; border: none; color: var(--text-secondary); cursor: pointer; height: var(--grid-filter-height); min-height: var(--grid-filter-height); padding: 0 0.5rem; display: flex; align-items: center; justify-content: center; box-sizing: border-box; }
.ag-theme-quartz .ag-floating-filter-button:hover { color: var(--accent-primary); }
.ag-theme-quartz .ag-floating-filter-input { display: flex; align-items: center; width: 100%; }
.ag-theme-quartz .ag-floating-filter-input .ag-input-wrapper { flex-grow: 1; display: flex; }
.ag-theme-quartz .ag-floating-filter-input .ag-input-wrapper input { line-height: normal; padding-top: 0.5rem; padding-bottom: 0.5rem; }
.ag-theme-quartz .ag-floating-filter-body { padding: 6px 4px; display: flex; align-items: center; height: 100%; }
.ag-theme-quartz .ag-header-cell-comp-wrapper .ag-floating-filter { background-color: var(--grid-header-bg); border-top: 1px solid color-mix(in srgb, var(--border-color) 60%, transparent); min-height: calc(var(--grid-filter-height) + 12px); box-sizing: border-box; }
.delete-row-btn { background-color: var(--error-color) !important; color: white !important; border: none; border-radius: var(--border-radius); padding: 0.4rem 0.8rem; font-size: 1rem; line-height: 1; cursor: pointer; transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out; width: auto; min-width: 36px; height: calc(var(--grid-filter-height) - 8px); margin: 0; display: inline-flex; align-items: center; justify-content: center; }
.delete-row-btn:hover { background-color: color-mix(in srgb, var(--error-color) 80%, black) !important; transform: scale(1.05); }
.delete-row-btn:active { transform: scale(0.95); }
.grid-link { color: var(--accent-primary); text-decoration: underline; display: inline-block; padding: 2px 0; word-break: break-all; }
.grid-link:hover { color: var(--accent-primary-hover); }

/* --- Focus Styles & Global Outline Removal --- */
*:focus, *:focus-visible { outline: none !important; }
input[type="email"]:focus, input[type="password"]:focus, input[type="text"]:focus, input[type="date"]:focus, textarea:focus, select:focus { border-color: var(--input-focus-border) !important; box-shadow: 0 0 0 3px var(--input-focus-shadow) !important; }
button:focus { box-shadow: 0 0 0 3px var(--input-focus-shadow) !important; }
button:not(.delete-row-btn):focus { background-color: var(--accent-primary-hover) !important; }
button.secondary:focus { background-color: var(--accent-secondary-hover) !important; box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent-secondary) 30%, transparent) !important; }
#logout-btn:focus { background-color: color-mix(in srgb, var(--error-color) 70%, black) !important; box-shadow: 0 0 0 3px color-mix(in srgb, var(--error-color) 30%, transparent) !important; }
#app-header nav a:focus { color: var(--accent-primary) !important; box-shadow: 0 2px 0 0 var(--accent-primary) inset !important; }
.ag-theme-quartz .ag-cell-focus { border-color: transparent !important; background-color: color-mix(in srgb, var(--accent-primary) 8%, transparent) !important; }
#myGrid { width: 100%; overflow-x: hidden; }
